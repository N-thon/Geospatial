
<html>
    <head>
        <title>Shapefile Demo</title>
        <!-- Loads the FlighttLines.shp file into THREE.js -->

        <!-- Three.js library, movement controls, and jquery for the geojson-->
        <script src="lib/three.js"></script>
        <script src="potree/libs/jquery/jquery-3.1.1.min.js"></script>
        <script src="potree/libs/spectrum/spectrum.js"></script>
        <script src="potree/libs/jquery-ui/jquery-ui.min.js"></script>
        <script src="potree/libs/three.js/build/three.js"></script>
        <script src="potree/libs/three.js/extra/lines.js"></script>
        <script src="potree/libs/other/BinaryHeap.js"></script>
        <script src="potree/libs/tween/tween.min.js"></script>
        <script src="potree/libs/d3/d3.js"></script>
        <script src="potree/libs/proj4/proj4.js"></script>
        <script src="potree/libs/openlayers3/ol.js"></script>
        <script src="potree/libs/i18next/i18next.js"></script>
        <script src="potree/libs/jstree/jstree.js"></script>
        <script src="potree/src/potree.js"></script> 
        <script src="potree/libs/plasio/js/laslaz.js"></script>
        <script src="potree/libs/shapefile/shapefile.js"></script>
        <script src="lib/OrbitControls.js"></script>
        <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
    </head>
    <body>
        <style>
            html, body {
                padding: 0;
                margin: 0;
            }
        </style>
        <script type="text/JavaScript">
        
            //New scene and camera
            var scene = new THREE.Scene();
            var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 10000);

            //New Renderer
            var renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            
            const loader = new Potree.ShapefileLoader();
				loader.transform = transform;

				// group all shapefile scene nodes into this node
				const shapeNode = new THREE.Object3D();
				viewer.scene.scene.add(shapeNode);
				
				// load natural.shp and change colors to green
				const shpNatural = loader.load("./test_shapefile/FlightLines.shp");
				shapeNode.add(shpNatural.node);

				shpNatural.node.traverse(node => {
					if(node.material){
                        node.material.color.setRGB(0, 1, 0)
                    }
                })


            //Enable controls
            var controls = new THREE.OrbitControls(camera, renderer.domElement);
            //controls.minDistance = 1;

            //Render the image
            function render() {
                controls.update();
                requestAnimationFrame(render);
                renderer.render(scene, camera);
            }

            render();
        </script>
	</body>
</html>

